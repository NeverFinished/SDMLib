
 graph TrafoOpDiagram {
    node [shape = none, fontsize = 10]; 
    edge [fontsize = 10];
    
    
    this [label=<<table border='0' cellborder='1' cellspacing='0'> <tr> <td><u>this</u></td> </tr>  </table>>];
    items [label=<<table border='1' cellborder='1' cellspacing='0'> <tr> <td><u>items</u></td> </tr> <tr><td><table border='0' cellborder='0' cellspacing='0'> <tr><td align='left'>value</td></tr> </table></td></tr> </table>>];
    persons [label=<<table border='1' cellborder='1' cellspacing='0'> <tr> <td><u>persons</u></td> </tr>  </table>>];
    person [label=<<table border='0' cellborder='1' cellspacing='0'> <tr> <td><u>person</u></td> </tr>  </table>>];
    personItems [label=<<table border='1' cellborder='1' cellspacing='0'> <tr> <td><u>personItems</u></td> </tr> <tr><td><table border='0' cellborder='0' cellspacing='0'> <tr><td align='left'>value</td></tr> </table></td></tr> </table>>];
    
    
    totalsum [label=<<table border='0' cellborder='0' cellspacing='0'><tr><td>total = sum()</td></tr></table>>];
    sharetotalsize [label=<<table border='0' cellborder='0' cellspacing='0'><tr><td>share = total / size()</td></tr></table>>];
    myCostssum [label=<<table border='0' cellborder='0' cellspacing='0'><tr><td>myCosts = sum()</td></tr></table>>];
    setBalancemyCostsshare [label=<<table border='0' cellborder='0' cellspacing='0'><tr><td>setBalance(myCosts - share)</td></tr></table>>];
    
    
    
    this -- items [headlabel = "get" taillabel = ""];
    this -- persons [headlabel = "get" taillabel = ""];
    persons -- person [headlabel = "foreach" taillabel = ""];
    person -- personItems [headlabel = "get" taillabel = ""];
    totalsum -- sharetotalsize [style = "dotted"];
    items -- totalsum [style = "dotted"];
    sharetotalsize -- myCostssum [style = "dotted"];
    persons -- sharetotalsize [style = "dotted"];
    myCostssum -- setBalancemyCostsshare [style = "dotted"];
    personItems -- myCostssum [style = "dotted"];
    person -- setBalancemyCostsshare [style = "dotted"];
}

